create schema "thirdsemesterexam";
set search_path to "thirdsemesterexam"

/*Testing ProofOfConcept*/
create domain d_Test varchar(30);
create table Test(
	test d_Test,
	day_time timestamp
)
drop table Test;
select test from test;

/* Customer */
create domain d_userName varchar(100);
create domain d_password varchar(150);
create domain d_customerID int;
create domain d_location varchar(200);
create domain d_firstName varchar(100);
create domain d_lastName varchar(100);
create domain d_email varchar(200);
create domain d_phoneNumber int;
create domain d_rating numeric;

create table Customer(
	username d_userName,
	password d_password,
	customerID d_customerID,
	location d_location,
	firstName d_firstName,
	lastName d_lastName,
	email d_email,
	phoneNumber d_phoneNumber,
	PRIMARY KEY (customerID)
);
drop table Customer

/*Hardcoded Customer*/
insert into Customer (userName, password, customerID, location, firstName, lastName, email, phoneNumber) values ('MagicalTermite','1234',1,'VIA','Markus','Lorensen','@fml.com',12345678);

/* BookSale */
create domain d_title varchar(200);
create domain d_author varchar(200);
create domain d_edition varchar(20);
create domain d_condition varchar(20);
create domain d_subject varchar(40);
create domain d_image varchar(100);
create domain d_price numeric;
create domain d_hardCopy boolean;
create domain d_bookSaleID int;
create domain customerID int;
create domain d_available boolean;

create table BookSale(
	title d_title,
	author d_author,
	edition d_edition,
	condition d_condition,
	subject d_subject,
	image d_image,
	price d_price,
	hardCopy d_hardCopy,
	customerID d_customerID references Customer(customerID),
	available d_available,
	bookSaleID d_bookSaleID,
	PRIMARY KEY (bookSaleID)
);
select * from BookSale;
drop table BookSale

/*Hardcoded BookSale*/
insert into BookSale (title, author, edition, condition, subject, image, price, hardCopy, customerID, available, bookSaleID) values('TheLostPony','Anne Lindberg', '1st','New','Fantasy','INSERTIMAGEHERE',200.00,true,1,true, 10);
insert into BookSale (title, author, edition, condition, subject, image, price, hardCopy, customerID, available, bookSaleID) values('TheSmallMermaid','GustaveDoppelganger', '1st','New','Novel','INSERTIMAGEHERE',200.00,true,1,true, 11);

/*Dont add, they have whitespace*/
insert into BookSale (title, author, edition, condition, subject, image, price, hardCopy, customerID, available, bookSaleID) values('The triangle','Io', '2nd','Used','Math','INSERTIMAGEHERE',200.00,true,1,false, 12);
insert into BookSale (title, author, edition, condition, subject, image, price, hardCopy, customerID, available, bookSaleID) values('Is math related to physics?','Stein sten', '3rd','Good','Physiscs','INSERTIMAGEHERE',200.00,true,1,true, 13);
insert into BookSale (title, author, edition, condition, subject, image, price, hardCopy, customerID, available, bookSaleID) values('Some art stuff','Michael Angelo', '1st','Brand new','Idunno','INSERTIMAGEHERE',200.00,true,1,false, 14);

